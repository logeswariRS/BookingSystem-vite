# Booking System - Architecture & Workflow Diagrams

## ğŸ“Š SYSTEM ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FRONTEND (React)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Login &   â”‚  â”‚  Bus Search â”‚  â”‚ User Dashboard       â”‚  â”‚
â”‚  â”‚   Signup    â”‚  â”‚  & Booking  â”‚  â”‚ â”œâ”€ Overview          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”œâ”€ My Bookings       â”‚  â”‚
â”‚         â”‚                â”‚          â”‚ â”œâ”€ Tickets           â”‚  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”œâ”€ Profile           â”‚  â”‚
â”‚                  â”‚                   â”‚ â””â”€ Settings          â”‚  â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚ React Router   â”‚                                    â”‚
â”‚          â”‚ State Manager  â”‚                                    â”‚
â”‚          â”‚ (Context/Redux)â”‚                                    â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                  â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ HTTP/REST
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND API (Node.js/Express)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Auth Controller  â”‚  â”‚ Booking          â”‚  â”‚ User        â”‚  â”‚
â”‚  â”‚ â”œâ”€ Register      â”‚  â”‚ Controller       â”‚  â”‚ Controller  â”‚  â”‚
â”‚  â”‚ â”œâ”€ Login         â”‚  â”‚ â”œâ”€ Search Buses  â”‚  â”‚ â”œâ”€ Profile  â”‚  â”‚
â”‚  â”‚ â”œâ”€ Logout        â”‚  â”‚ â”œâ”€ Create        â”‚  â”‚ â”œâ”€ Settings â”‚  â”‚
â”‚  â”‚ â””â”€ Verify Token  â”‚  â”‚ â”œâ”€ View Details  â”‚  â”‚ â””â”€ History  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”œâ”€ Cancel        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                        â”‚ â””â”€ Get Status    â”‚                   â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚          â”‚                    â”‚                      â”‚        â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                   â–¼                                            â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚          â”‚ Middleware Layer â”‚                                 â”‚
â”‚          â”‚ â”œâ”€ Authenticationâ”‚                                 â”‚
â”‚          â”‚ â”œâ”€ Validation    â”‚                                 â”‚
â”‚          â”‚ â”œâ”€ Error Handler â”‚                                 â”‚
â”‚          â”‚ â””â”€ Logging       â”‚                                 â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                   â–¼                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATABASE (MongoDB/MySQL)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Users        â”‚  â”‚ Bookings      â”‚  â”‚ Buses              â”‚  â”‚
â”‚  â”‚ â”œâ”€ id        â”‚  â”‚ â”œâ”€ id         â”‚  â”‚ â”œâ”€ id              â”‚  â”‚
â”‚  â”‚ â”œâ”€ email     â”‚  â”‚ â”œâ”€ userId     â”‚  â”‚ â”œâ”€ name            â”‚  â”‚
â”‚  â”‚ â”œâ”€ password  â”‚  â”‚ â”œâ”€ busId      â”‚  â”‚ â”œâ”€ route           â”‚  â”‚
â”‚  â”‚ â”œâ”€ name      â”‚  â”‚ â”œâ”€ date       â”‚  â”‚ â”œâ”€ totalSeats      â”‚  â”‚
â”‚  â”‚ â”œâ”€ phone     â”‚  â”‚ â”œâ”€ seats      â”‚  â”‚ â”œâ”€ price           â”‚  â”‚
â”‚  â”‚ â””â”€ profile   â”‚  â”‚ â”œâ”€ price      â”‚  â”‚ â””â”€ amenities       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â””â”€ status     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Tickets                â”‚  â”‚ Routes                       â”‚  â”‚
â”‚  â”‚ â”œâ”€ id                  â”‚  â”‚ â”œâ”€ id                        â”‚  â”‚
â”‚  â”‚ â”œâ”€ bookingId           â”‚  â”‚ â”œâ”€ from                      â”‚  â”‚
â”‚  â”‚ â”œâ”€ qrCode              â”‚  â”‚ â”œâ”€ to                        â”‚  â”‚
â”‚  â”‚ â”œâ”€ status              â”‚  â”‚ â”œâ”€ distance                  â”‚  â”‚
â”‚  â”‚ â””â”€ generatedAt         â”‚  â”‚ â””â”€ duration                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Wallets & Loyalty Points                                â”‚  â”‚
â”‚  â”‚ â”œâ”€ id, userId, balance, transactions, loyaltyPoints    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ USER BOOKING WORKFLOW

```
START
  â”‚
  â”œâ”€â–º [User Visits Home Page]
  â”‚         â”‚
  â”‚         â””â”€â–º Not Logged In? â†’ [Login Page]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Enter Email & Password]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Validate Credentials]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º Valid? â”€â”€â–º Save Token
  â”‚                    â”‚              â”‚
  â”‚                    â””â”€â–º Invalid? â”€â”€â–º Show Error
  â”‚
  â”œâ”€â–º [Dashboard/Home]
  â”‚         â”‚
  â”‚         â””â”€â–º Click "Search Buses"
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Select Route, Date, Passengers]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [API: GET /buses/search]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Display Available Buses]
  â”‚
  â”œâ”€â–º [Bus Booking Page]
  â”‚         â”‚
  â”‚         â””â”€â–º Click on Bus
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [API: GET /buses/:id]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Bus Details Page]
  â”‚
  â”œâ”€â–º [Bus Details]
  â”‚         â”‚
  â”‚         â””â”€â–º Click "Select Seats"
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [API: GET /buses/:id/seats]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Seating Page - Choose Seats]
  â”‚
  â”œâ”€â–º [Bus Seating]
  â”‚         â”‚
  â”‚         â””â”€â–º Select Seats
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º Seats Available? â”€â”€â–º [Seat Selected]
  â”‚                    â”‚
  â”‚                    â””â”€â–º Seats Taken? â”€â”€â”€â”€â–º [Show Error]
  â”‚
  â”œâ”€â–º [Review Booking]
  â”‚         â”‚
  â”‚         â””â”€â–º Click "Proceed to Checkout"
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Checkout Page]
  â”‚
  â”œâ”€â–º [Checkout]
  â”‚         â”‚
  â”‚         â”œâ”€â–º [Review Booking Details]
  â”‚         â”‚
  â”‚         â”œâ”€â–º [Select Payment Method]
  â”‚         â”‚
  â”‚         â””â”€â–º Click "Confirm Booking"
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [API: POST /bookings]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Process Payment]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º [Payment Successful?]
  â”‚                    â”‚
  â”‚                    â”œâ”€â–º YES â†’ [Booking Confirmed]
  â”‚                    â”‚
  â”‚                    â””â”€â–º NO â†’ [Payment Failed]
  â”‚
  â”œâ”€â–º [Dashboard]
  â”‚         â”‚
  â”‚         â”œâ”€â–º View Booking in "My Bookings"
  â”‚         â”‚
  â”‚         â”œâ”€â–º View Ticket with QR Code
  â”‚         â”‚
  â”‚         â””â”€â–º Can Cancel or Reschedule
  â”‚
  END
```

---

## ğŸ“± DASHBOARD NAVIGATION FLOW

```
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Dashboard Main  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            â”‚            â”‚
        â–¼            â–¼            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Overviewâ”‚  â”‚Bookings â”‚  â”‚Tickets â”‚
    â”‚        â”‚  â”‚         â”‚  â”‚        â”‚
    â”‚ Stats  â”‚  â”‚ List    â”‚  â”‚ View   â”‚
    â”‚Recent  â”‚  â”‚ View    â”‚  â”‚Downloadâ”‚
    â”‚Upcomingâ”‚  â”‚ Cancel  â”‚  â”‚Share   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚
        â”‚            â–¼            â”‚
        â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
        â”‚       â”‚Booking   â”‚      â”‚
        â”‚       â”‚Details   â”‚      â”‚
        â”‚       â”‚Modal     â”‚      â”‚
        â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
        â”‚            â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            â”‚            â”‚
        â–¼            â–¼            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Profile â”‚  â”‚Settings â”‚  â”‚Logout  â”‚
    â”‚        â”‚  â”‚         â”‚  â”‚        â”‚
    â”‚Edit    â”‚  â”‚Notif.   â”‚  â”‚Clear   â”‚
    â”‚Avatar  â”‚  â”‚Privacy  â”‚  â”‚Session â”‚
    â”‚Info    â”‚  â”‚Security â”‚  â”‚        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” AUTHENTICATION FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Authentication & Session Management         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[LOGIN]
   â”‚
   â”œâ”€â–º [POST /auth/login with email & password]
   â”‚
   â”œâ”€â–º [Backend Validates]
   â”‚    â”œâ”€ Check if user exists
   â”‚    â”œâ”€ Compare hashed password
   â”‚    â””â”€ Generate JWT token
   â”‚
   â”œâ”€â–º [Response with Token]
   â”‚
   â”œâ”€â–º [Frontend Stores Token]
   â”‚    â””â”€ localStorage.setItem('userToken', token)
   â”‚
   â”œâ”€â–º [Redirect to Dashboard]
   â”‚
   â””â”€â–º [Set Authorization Header]
        â””â”€ Authorization: Bearer {token}

[ACCESSING PROTECTED ROUTES]
   â”‚
   â”œâ”€â–º [Check localStorage for token]
   â”‚
   â”œâ”€â–º [Token exists?]
   â”‚    â”œâ”€ YES â†’ Allow access
   â”‚    â””â”€ NO â†’ Redirect to login
   â”‚
   â”œâ”€â–º [Include token in API requests]
   â”‚
   â””â”€â–º [Backend Validates Token]
        â”œâ”€ Verify signature
        â”œâ”€ Check expiration
        â””â”€ Return user data or error

[LOGOUT]
   â”‚
   â”œâ”€â–º [POST /auth/logout]
   â”‚
   â”œâ”€â–º [Clear localStorage]
   â”‚    â””â”€ localStorage.removeItem('userToken')
   â”‚
   â”œâ”€â–º [Clear Session State]
   â”‚
   â””â”€â–º [Redirect to Login Page]
```

---

## ğŸ“Š DATABASE RELATIONSHIPS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Database Schema                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    Users    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ id (PK)     â”‚
    â”‚ email       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ password    â”‚          â”‚
    â”‚ name        â”‚          â”‚
    â”‚ phone       â”‚          â”‚
    â”‚ createdAt   â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                      â”‚
    â–¼                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Bookings   â”‚                  â”‚   Wallets    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)      â”‚                  â”‚ id (PK)      â”‚
â”‚ userId (FK)  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ userId (FK)  â”‚
â”‚ busId (FK)   â”‚                  â”‚ balance      â”‚
â”‚ date         â”‚                  â”‚ createdAt    â”‚
â”‚ seats[]      â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ price        â”‚
â”‚ status       â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ createdAt    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Loyalty Points   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                   â”‚ id (PK)          â”‚
       â”‚                   â”‚ userId (FK)      â”‚
       â”‚                   â”‚ points           â”‚
       â”‚                   â”‚ lastUpdated      â”‚
       â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚            â”‚
       â–¼            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Tickets â”‚  â”‚  Buses  â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚id (PK) â”‚  â”‚id (PK)  â”‚
   â”‚booking â”‚  â”‚name     â”‚
   â”‚qrCode  â”‚  â”‚route    â”‚
   â”‚status  â”‚  â”‚seats    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚price    â”‚
               â”‚amenitiesâ”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ STATE MANAGEMENT ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Redux Store (Recommended)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  store/                                             â”‚
â”‚  â”œâ”€â”€ slices/                                        â”‚
â”‚  â”‚   â”œâ”€â”€ authSlice.js        (user, token, auth)   â”‚
â”‚  â”‚   â”œâ”€â”€ bookingSlice.js     (bookings list, data) â”‚
â”‚  â”‚   â”œâ”€â”€ userSlice.js        (profile, settings)   â”‚
â”‚  â”‚   â”œâ”€â”€ busSlice.js         (buses, search)       â”‚
â”‚  â”‚   â”œâ”€â”€ walletSlice.js      (balance, points)     â”‚
â”‚  â”‚   â””â”€â”€ ticketSlice.js      (tickets data)        â”‚
â”‚  â”‚                                                  â”‚
â”‚  â”œâ”€â”€ selectors/                                     â”‚
â”‚  â”‚   â”œâ”€â”€ authSelectors.js                          â”‚
â”‚  â”‚   â”œâ”€â”€ bookingSelectors.js                       â”‚
â”‚  â”‚   â””â”€â”€ ...                                       â”‚
â”‚  â”‚                                                  â”‚
â”‚  â”œâ”€â”€ thunks/ (API calls)                           â”‚
â”‚  â”‚   â”œâ”€â”€ authThunks.js                            â”‚
â”‚  â”‚   â”œâ”€â”€ bookingThunks.js                         â”‚
â”‚  â”‚   â””â”€â”€ ...                                       â”‚
â”‚  â”‚                                                  â”‚
â”‚  â””â”€â”€ store.js              (Redux store config)    â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        State Flow:
        Component â†’ Action â†’ Reducer â†’ State â†’ Re-render
```

---

## ğŸš€ DEPLOYMENT ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Production Environment               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          CDN (Cloudflare/AWS)                â”‚   â”‚
â”‚  â”‚  - Static assets (JS, CSS, images)           â”‚   â”‚
â”‚  â”‚  - Caching & compression                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Frontend Hosting (Vercel/Netlify)        â”‚   â”‚
â”‚  â”‚  - React build (dist)                         â”‚   â”‚
â”‚  â”‚  - Environment variables                      â”‚   â”‚
â”‚  â”‚  - SSL/HTTPS                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                                       â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                        â”‚              â”‚             â”‚
â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚             â”‚ API Gateway â”‚  â”‚  Load Balancer   â”‚ â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                        â”‚              â”‚             â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                               â”‚                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                    â”‚  Backend Servers    â”‚          â”‚
â”‚                    â”‚  (Docker Containers)â”‚          â”‚
â”‚                    â”‚  - Node.js Apps     â”‚          â”‚
â”‚                    â”‚  - API Routes       â”‚          â”‚
â”‚                    â”‚  - Business Logic   â”‚          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                               â”‚                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                    â”‚  Database Server    â”‚          â”‚
â”‚                    â”‚  (Cloud DB)         â”‚          â”‚
â”‚                    â”‚  - MongoDB/PostgreSQL          â”‚
â”‚                    â”‚  - Backups          â”‚          â”‚
â”‚                    â”‚  - Replication      â”‚          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                      â”‚
â”‚  Additional Services:                               â”‚
â”‚  - Redis Cache (for sessions, rate limiting)       â”‚
â”‚  - Message Queue (for async tasks)                 â”‚
â”‚  - Email Service (SendGrid/AWS SES)                â”‚
â”‚  - Payment Gateway (Razorpay/Stripe)               â”‚
â”‚  - Logging & Monitoring (Sentry, LogRocket)        â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ SCALING STRATEGY

```
Phase 1: MVP (Current)
â”œâ”€ Single server backend
â”œâ”€ Centralized database
â””â”€ Basic monitoring

Phase 2: Growth (10K users)
â”œâ”€ Multiple backend instances
â”œâ”€ Load balancing
â”œâ”€ Database replication
â””â”€ Advanced caching (Redis)

Phase 3: Scale (100K users)
â”œâ”€ Microservices architecture
â”œâ”€ Database sharding
â”œâ”€ Message queues (RabbitMQ)
â”œâ”€ Distributed caching
â””â”€ CDN distribution

Phase 4: Enterprise (1M+ users)
â”œâ”€ Multi-region deployment
â”œâ”€ Global load balancing
â”œâ”€ Database clustering
â”œâ”€ Real-time analytics
â””â”€ Advanced security
```

---

This comprehensive documentation covers the complete system architecture and workflow. Use this as a reference during development!
